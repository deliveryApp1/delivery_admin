{"version":3,"file":"static/js/821.a9d2dc68.chunk.js","mappings":"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","sources":["constants/constants.ts","pages/Users/_components/Modal.tsx","pages/Users/Users.tsx"],"sourcesContent":["import moment from 'moment'\r\nexport const roles: Array<Object> = [\r\n    // {\r\n    //     id: 1,\r\n    //     name: 'CLIENT'\r\n    // },\r\n    {\r\n        id: 2,\r\n        name: 'ADMIN'\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'COURIER'\r\n    }\r\n]\r\n\r\nexport const orderStatus: Array<Object> = [\r\n    {\r\n        text: \"Pending\",\r\n        value: 'PENDING'\r\n    },\r\n    {\r\n        text: \"In progress\",\r\n        value: 'INPROGRESS'\r\n    },\r\n    {\r\n        text: \"On the way\",\r\n        value: 'ONTHEWAY'\r\n    },\r\n    {\r\n        text: \"Delivered\",\r\n        value: 'DELIVERED'\r\n    },\r\n]\r\n\r\nexport const disabledDateStart = (current: any) => current && current >= moment().endOf('day');\r\nexport const dateFormat = \"DD.MM.YYYY\";\r\nexport const timeFormat = \"DD.MM.YYYY HH:mm:ss\";","// import type { DatePickerProps } from 'antd';\r\nimport { useUsersAddMutation, useUsersUpdateMutation } from \"store/endpoints\";\r\nimport { Form, message, Input, InputNumber, Select, ModalProps, Modal, DatePicker } from \"antd\";\r\n// import { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useDispatch } from 'react-redux';\r\n// import locale from \"antd/lib/date-picker/locale/ru_RU\";\r\nimport React, { useEffect } from 'react';\r\nimport { roles, dateFormat, disabledDateStart } from 'constants/constants';\r\nimport { updateUsersStates } from \"../../../store/slices/usersSlice\";\r\nimport moment from \"moment\";\r\n\r\nconst { Option } = Select;\r\n\r\ntype Props = ModalProps & {\r\n    updateData: any,\r\n    modalType: string;\r\n    t: any\r\n};\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 14,\r\n    },\r\n}\r\n\r\nconst UsersModal: React.FC<Props> = ({ updateData, t, modalType, ...modalProps }) => {\r\n    const dispatch = useDispatch()\r\n    const [form] = Form.useForm();\r\n    // const [birthday, setBirthday] = useState<Date | undefined>()\r\n    const [usersUpdateMutation, usersUpdate] = useUsersUpdateMutation();\r\n    const [usersMutation, usersCreate] = useUsersAddMutation();\r\n    const clearState = () => {\r\n        form.resetFields()\r\n    }\r\n    useEffect(() => {\r\n        if (updateData && modalType === 'update') {\r\n            const date = new Date(updateData.birthday)\r\n            form.setFieldsValue({\r\n                username: updateData?.username,\r\n                password: updateData.password,\r\n                phone: updateData?.phone,\r\n                role: updateData?.role,\r\n                price: updateData?.price,\r\n                birthday: moment(`${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`, dateFormat)\r\n            })\r\n        }\r\n        return () => clearState()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [updateData, modalType])\r\n\r\n    const handleSubmit = () => {\r\n        form.validateFields()\r\n            .then(data => {\r\n                const formData = { ...data, phone: data.phone.toString() }\r\n                console.log('formData: ', formData);\r\n                if (modalType === 'update') {\r\n                    const usersPromise = usersUpdateMutation({\r\n                        id: updateData.id,\r\n                        value: formData,\r\n                    }).unwrap();\r\n                    usersPromise\r\n                        .then((res: { statusCode: number; }) => {\r\n                            if (res.statusCode === 200) {\r\n                                message.success(\"Muvaffaqiyati tahrirlandi.\");\r\n                                dispatch(updateUsersStates({ openModal: false, modalType: '' }))\r\n                                form.resetFields();\r\n                            }\r\n                        })\r\n                        .catch((err: { message: any; }) => {\r\n                            message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n                        });\r\n                } else if (modalType === 'create') {\r\n                    const usersPromise = usersMutation(formData).unwrap();\r\n                    usersPromise\r\n                        .then((res) => {\r\n                            if (res.statusCode === 200) {\r\n                                message.success(\"Muvaffaqiyati saqlandi.\");\r\n                                dispatch(updateUsersStates({ openModal: false, modalType: '' }))\r\n                                form.resetFields();\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n                        });\r\n                }\r\n            }).catch(err => console.log('Form error: ', err))\r\n\r\n    };\r\n\r\n    const roleOptions = roles.map((role: any) => (<Option key={role.id} value={role.name}>{role.name}</Option>))\r\n    const props = { onOk: handleSubmit, confirmLoading: modalType.length ? modalType === 'create' ? usersCreate.isLoading : usersUpdate.isLoading : false, forceRender: true, ...modalProps }\r\n    return (\r\n        <>\r\n            <Modal\r\n                {...props}\r\n            >\r\n                <Form\r\n                    {...formItemLayout}\r\n                    form={form}\r\n                    name=\"basic\"\r\n                    layout=\"horizontal\"\r\n                    autoComplete=\"off\"\r\n                >\r\n                    <Form.Item\r\n                        name='username'\r\n                        label={t(\"usersMenu.username\")}\r\n                        rules={[\r\n                            { required: true, message: `Username kiriting` },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder=\"Username kiriting\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        label=\"Parol:\"\r\n                        rules={[\r\n                            { required: modalType === 'create' ? true : false, message: `Parol kiriting` },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder=\"Parol kiriting\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"phone\"\r\n                        label={t(\"usersMenu.phone_number\")}\r\n                        rules={[\r\n                            {\r\n                                type: \"regexp\",\r\n                                pattern: new RegExp(/^[0-9]*$/gm),\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: `Noto'g'ri format`\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <InputNumber style={{ width: '100%' }} placeholder=\"Telefon raqamini kiriting\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"role\"\r\n                        label={t(\"usersMenu.role\")}\r\n                        rules={[\r\n                            { required: true, message: `Rolini tanlang` },\r\n                        ]}\r\n                    >\r\n                        <Select allowClear placeholder='Rolini tanlang'>\r\n                            {roleOptions}\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"birthday\"\r\n                        label={t(\"usersMenu.birthday\")}\r\n                        rules={[\r\n                            { required: true, message: `Tug'ilgan sanasini kiriting` },\r\n                        ]}\r\n                    >\r\n                        <DatePicker allowClear showNow\r\n                            format={dateFormat}\r\n                            // onChange={(e) => setBirthday(e?.toDate())}\r\n                            style={{ width: '100%' }}\r\n                            disabledDate={disabledDateStart}\r\n                            placeholder='Sanani kiriting' />\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UsersModal;\r\n","import React, { useState } from \"react\";\r\nimport type { RootState } from '../../store/store'\r\nimport { Button, Col, message, Row, Typography, Table, Popconfirm } from \"antd\";\r\nimport type { ColumnsType } from 'antd/es/table';\r\nimport { useTranslation } from 'react-i18next';\r\nimport UsersModal from \"./_components/Modal\";\r\nimport { UsersDTO } from \"types\";\r\nimport moment from \"moment\";\r\nimport { dateFormat } from \"constants/constants\";\r\nimport { useUsersDeleteMutation, useUsersQuery } from \"store/endpoints\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateUsersStates } from \"../../store/slices/usersSlice\";\r\n\r\ninterface DataType {\r\n    key?: string;\r\n    id: number | string;\r\n    username: string;\r\n    phone: string;\r\n    role: string;\r\n    birthday: string;\r\n}\r\n\r\nconst Users: React.FC = () => {\r\n    const { t } = useTranslation()\r\n    const { openModal, modalType } = useSelector((state: RootState) => state.usersSlice)\r\n    const dispatch = useDispatch()\r\n    const [query, setQuery] = useState({ page: 1, pageSize: 20 })\r\n\r\n    const usersQuery = useUsersQuery(query);\r\n    const [usersDelete, { isLoading }] = useUsersDeleteMutation();\r\n    const [updateData, setUpdateData] = useState();\r\n    const handleUpdate = (data: any) => {\r\n        setUpdateData(data);\r\n        dispatch(updateUsersStates({ openModal: true, modalType: 'update' }))\r\n    };\r\n    const handleDelete = (id: any) => {\r\n        const category = usersDelete({ id }).unwrap();\r\n        category\r\n            .then((res) => {\r\n                if (res.statusCode === 200) {\r\n                    message.success(\"Muvaffaqiyati o'chirildi.\");\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n            });\r\n    };\r\n\r\n    const columns: ColumnsType<DataType> = [\r\n        {\r\n            title: \"№\",\r\n            dataIndex: \"id\",\r\n            key: \"id\",\r\n            width: \"5%\",\r\n            render: (item, record, index) => <span>{index + 1}</span>,\r\n        },\r\n        {\r\n            title: t(\"usersMenu.username\"),\r\n            dataIndex: \"username\",\r\n            key: \"username\",\r\n            // width: \"75%\",\r\n            // render: (item, record: any) => {\r\n            //     return <Space size={5}>\r\n            //         <Image\r\n            //             width={30}\r\n            //             height={30}\r\n            //             src={`http://147.182.130.242:3000/${record.image}`}\r\n            //             fallback=\"data:image/png;base64,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\"\r\n            //         />{item}</Space>\r\n            // }\r\n        },\r\n        {\r\n            title: t(\"usersMenu.phone_number\"),\r\n            dataIndex: \"phone\",\r\n            key: \"phone\",\r\n            // width: \"75%\",\r\n            render: (item, record) => <>{item}</>\r\n        },\r\n        {\r\n            title: t(\"usersMenu.role\"),\r\n            dataIndex: \"role\",\r\n            key: \"role\",\r\n            // width: \"75%\",\r\n            render: (item, record) => <>{item}</>\r\n        },\r\n        {\r\n            title: t(\"usersMenu.birthday\"),\r\n            dataIndex: \"birthday\",\r\n            key: \"birthday\",\r\n            // width: \"75%\",\r\n            render: (item, record) => <>{moment(item).format(dateFormat)}</>\r\n        },\r\n        {\r\n            title: t(\"actions\"),\r\n            key: \"action\",\r\n            width: \"20%\",\r\n            render: (item: UsersDTO, record, index) => {\r\n                return (\r\n                    <Row wrap={false} gutter={5}>\r\n                        <Col>\r\n                            <Button\r\n                                size=\"small\"\r\n                                type=\"primary\"\r\n                                ghost\r\n                                onClick={() => handleUpdate(item)}\r\n                            >\r\n                                {t('edit')}\r\n                            </Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Popconfirm\r\n                                okText={t(\"yes\")}\r\n                                cancelText={t(\"no\")}\r\n                                onConfirm={() => handleDelete(item.id)}\r\n                                title={t(\"sureDelete\")}\r\n                            >\r\n                                <Button size=\"small\" danger disabled={isLoading}>\r\n                                    {t(\"delete\")}\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </Col>\r\n                    </Row>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n    const handleCloseModal = () => {\r\n        dispatch(updateUsersStates({ openModal: false, modalType: '' }))\r\n        setUpdateData(undefined)\r\n    }\r\n\r\n    const modalProps = {\r\n        title: modalType === 'update' ? t('edit') : t('add'),\r\n        open: openModal,\r\n        okText: modalType === 'update' ? t('edit') : t('add'),\r\n        cancelText: t('close'),\r\n        onCancel: handleCloseModal\r\n    }\r\n\r\n    const pagination =\r\n    {\r\n        total: usersQuery.data?.meta?.total * usersQuery.data?.meta?.pagesize,\r\n        page: query.page,\r\n        pageSizeOptions: [\"20\", \"50\", \"100\"],\r\n        showQuickJumper: true, showSizeChanger: true,\r\n        pageSize: query.pageSize,\r\n        current: query.page,\r\n        onChange: (page: number, pageSize: number) => {\r\n            setQuery({ page: page, pageSize: pageSize })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row>\r\n                <Col span={20}>\r\n                    <Typography.Title level={2}>{t('menus.users')}</Typography.Title>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={() => dispatch(updateUsersStates({ openModal: true, modalType: 'create' }))}\r\n                    >\r\n                        {t('add')}\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Table\r\n                columns={columns}\r\n                dataSource={usersQuery.data?.data}\r\n                loading={usersQuery.isFetching}\r\n                pagination={pagination}\r\n                rowKey={record => record.id}\r\n            />\r\n            <UsersModal updateData={updateData} t={t} modalType={modalType} {...modalProps} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Users;\r\n"],"names":["roles","id","name","orderStatus","text","value","disabledDateStart","current","moment","endOf","dateFormat","timeFormat","Option","Select","formItemLayout","labelCol","span","wrapperCol","updateData","t","modalType","modalProps","dispatch","useDispatch","Form","form","useUsersUpdateMutation","usersUpdateMutation","usersUpdate","useUsersAddMutation","usersMutation","usersCreate","useEffect","date","Date","birthday","setFieldsValue","username","password","phone","role","price","getDate","getMonth","getFullYear","resetFields","roleOptions","props","onOk","validateFields","then","data","formData","toString","console","log","unwrap","res","statusCode","message","updateUsersStates","openModal","catch","err","confirmLoading","length","isLoading","forceRender","layout","autoComplete","label","rules","required","placeholder","type","pattern","RegExp","style","width","allowClear","showNow","format","disabledDate","useTranslation","useSelector","state","usersSlice","useState","page","pageSize","query","setQuery","usersQuery","useUsersQuery","useUsersDeleteMutation","usersDelete","setUpdateData","columns","title","dataIndex","key","render","item","record","index","wrap","gutter","size","ghost","onClick","okText","cancelText","onConfirm","danger","disabled","open","onCancel","undefined","pagination","total","meta","pagesize","pageSizeOptions","showQuickJumper","showSizeChanger","onChange","level","dataSource","loading","isFetching","rowKey"],"sourceRoot":""}