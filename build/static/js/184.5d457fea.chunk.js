"use strict";(self.webpackChunkdelivery_admin=self.webpackChunkdelivery_admin||[]).push([[184],{8184:function(e,i,a){a.r(i),a.d(i,{default:function(){return K}});var n=a(9439),r=a(2791),t=a(3695),s=a(3099),l=a(6755),o=a(6106),d=a(914),A=a(7309),c=a(5485),u=a(8794),g=a(1413),h=a(1899),m=a(9389),E=a(3734),Q=a(1095),j=a(9553),Z=a(3344),x=a(317),f=a(9286),p=a(184),y=m.Z.TextArea,I=E.Z.Option,B={labelCol:{span:8},wrapperCol:{span:14}},C=function(e){var i="image/jpeg"===e.type||"image/png"===e.type;i||t.ZP.error("Siz faqat JPG/PNG turdagi fayllarni yuklay olasiz!");var a=e.size/1024/1024<2;return a||t.ZP.error("Surat hajmi 2MB dan kichik bo'lishi kerak!"),i&&a},k=function(e){var i=e.visible,a=e.setVisible,s=e.handleOk,l=e.categoryData,c=(0,r.useState)(!1),m=(0,n.Z)(c,2),k=m[0],v=m[1],b=(0,r.useState)(),N=(0,n.Z)(b,2),S=N[0],J=N[1],K=(0,r.useState)(),z=(0,n.Z)(K,2),R=z[0],w=z[1],q=Q.Z.useForm(),F=(0,n.Z)(q,1)[0],U=(0,h.zp)(),T=(0,n.Z)(U,2),P=T[0],M=T[1].isLoading,Y=(0,p.jsxs)("div",{children:[k?(0,p.jsx)(x.Z,{}):(0,p.jsx)(f.Z,{}),(0,p.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),D=null===l||void 0===l?void 0:l.map((function(e){return(0,p.jsx)(I,{value:e.id,children:e.name},e.id)}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.u_,{title:"Mahsulot qo'shish",open:i,onOk:s,onCancel:function(){return a(!1)},children:(0,p.jsxs)(Q.Z,(0,g.Z)((0,g.Z)({},B),{},{form:F,name:"basic",layout:"horizontal",onFinish:function(e){var i=(0,g.Z)((0,g.Z)({},e),{},{image:R});P(i).unwrap().then((function(e){200===e.statusCode&&(t.ZP.success("Muvaffaqiyati saqlandi."),a(!1),F.resetFields())})).catch((function(e){t.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}))},autoComplete:"off",children:[(0,p.jsx)(Q.Z.Item,{name:"image",label:"Rasm:",rules:[{required:!0,message:"Rasm yuklanmadi"}],children:(0,p.jsx)(j.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://147.182.130.242:3000/image-upload",beforeUpload:C,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(w(e.file.response.result.url),function(e,i){var a=new FileReader;a.addEventListener("load",(function(){return i(a.result)})),a.readAsDataURL(e)}(e.file.originFileObj,(function(e){v(!1),J(e)}))):v(!0)},children:S?(0,p.jsx)("img",{src:S,alt:"productImage",style:{width:"100%"}}):Y})}),(0,p.jsx)(Q.Z.Item,{name:"name",label:"Mahsulot nomi:",rules:[{required:!0,message:"Mahsulot nomini kiriting"}],children:(0,p.jsx)(u.Dh.II,{})}),(0,p.jsx)(Q.Z.Item,{name:"categoryId",label:"Kategoriyasi:",rules:[{required:!0,message:"Kategoriyalar"}],children:(0,p.jsx)(E.Z,{allowClear:!0,placeholder:"Kategoriyani tanlang",children:D})}),(0,p.jsx)(Q.Z.Item,{name:"description",label:"Ta'rifi:",rules:[{required:!1,message:"Ta'rif kiriting"}],children:(0,p.jsx)(y,{allowClear:!0,autoSize:!0})}),(0,p.jsx)(Q.Z.Item,{name:"price",label:"Narxi:",style:{width:"100%"},rules:[{required:!0,message:"Narxni kiriting"}],children:(0,p.jsx)(Z.Z,{addonAfter:"so'm"})}),(0,p.jsx)(Q.Z.Item,{name:"discount",label:"Chegirma:",rules:[{required:!1,message:"Chegirma kiriting"}],children:(0,p.jsx)(Z.Z,{addonAfter:"%"})}),(0,p.jsx)(Q.Z.Item,{style:{marginTop:50},children:(0,p.jsxs)(o.Z,{justify:"end",gutter:5,wrap:!1,children:[(0,p.jsx)(d.Z,{children:(0,p.jsx)(A.Z,{onClick:function(){return a(!1)},disabled:M,children:"Bekor qilish"})}),(0,p.jsx)(d.Z,{children:(0,p.jsx)(A.Z,{htmlType:"submit",loading:M,disabled:M,type:"primary",children:"Tasdiqlash"})})]})})]}))})})},v=m.Z.TextArea,b=E.Z.Option,N={labelCol:{span:8},wrapperCol:{span:14}},S=function(e){var i="image/jpeg"===e.type||"image/png"===e.type;i||t.ZP.error("Siz faqat JPG/PNG turdagi fayllarni yuklay olasiz!");var a=e.size/1024/1024<2;return a||t.ZP.error("Surat hajmi 2MB dan kichik bo'lishi kerak!"),i&&a},J=function(e){var i=e.visible,a=e.setVisible,s=e.updateData,l=e.categoryData,c=(0,h.qt)(),m=(0,n.Z)(c,2),y=m[0],I=m[1].isLoading,B=(0,r.useState)(!1),C=(0,n.Z)(B,2),k=C[0],J=C[1],K=(0,r.useState)(),z=(0,n.Z)(K,2),R=z[0],w=z[1],q=(0,r.useState)(),F=(0,n.Z)(q,2),U=F[0],T=F[1],P=Q.Z.useForm(),M=(0,n.Z)(P,1)[0];(0,r.useEffect)((function(){M.__INTERNAL__.name&&(w("http://147.182.130.242:3000/".concat(s.image)),M.setFieldsValue({name:s.name,categoryId:s.categoryId,description:s.description,discount:s.discount,price:s.price,image:"http://147.182.130.242:3000/".concat(s.image)}))}),[s]);var Y=(0,p.jsxs)("div",{children:[k?(0,p.jsx)(x.Z,{}):(0,p.jsx)(f.Z,{}),(0,p.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),D=null===l||void 0===l?void 0:l.map((function(e){return(0,p.jsx)(b,{value:e.id,children:e.name},e.id)}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.u_,{title:"Mahsulotni tahrirlash",open:i,onCancel:function(){return a(!1)},children:(0,p.jsxs)(Q.Z,(0,g.Z)((0,g.Z)({},N),{},{form:M,name:"basic",layout:"horizontal",onFinish:function(e){e.image=U,y({id:s.id,value:e}).unwrap().then((function(e){200===e.statusCode&&(t.ZP.success("Muvaffaqiyati tahrirlandi."),a(!1))})).catch((function(e){t.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}))},autoComplete:"off",children:[(0,p.jsx)(Q.Z.Item,{name:"image",label:"Rasm:",rules:[{required:!0,message:"Rasm yuklanmadi"}],children:(0,p.jsx)(j.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://147.182.130.242:3000/image-upload",beforeUpload:S,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(T(e.file.response.result.url),function(e,i){var a=new FileReader;a.addEventListener("load",(function(){return i(a.result)})),a.readAsDataURL(e)}(e.file.originFileObj,(function(e){J(!1),w(e)}))):J(!0)},children:R?(0,p.jsx)("img",{src:R,alt:"productImage",style:{width:"100%"}}):Y})}),(0,p.jsx)(Q.Z.Item,{name:"name",label:"Mahsulot nomi:",rules:[{required:!0,message:"Mahsulot nomini kiriting"}],children:(0,p.jsx)(u.Dh.II,{})}),(0,p.jsx)(Q.Z.Item,{name:"categoryId",label:"Kategoriyasi:",rules:[{required:!0,message:"Kategoriyalar"}],children:(0,p.jsx)(E.Z,{allowClear:!0,placeholder:"Kategoriyani tanlang",children:D})}),(0,p.jsx)(Q.Z.Item,{name:"description",label:"Ta'rifi:",rules:[{required:!1,message:"Ta'rif kiriting"}],children:(0,p.jsx)(v,{allowClear:!0,autoSize:!0})}),(0,p.jsx)(Q.Z.Item,{name:"price",label:"Narxi:",style:{width:"100%"},rules:[{required:!0,message:"Narxni kiriting"}],children:(0,p.jsx)(Z.Z,{addonAfter:"so'm"})}),(0,p.jsx)(Q.Z.Item,{name:"discount",label:"Chegirma:",rules:[{required:!1,message:"Chegirma kiriting"}],children:(0,p.jsx)(Z.Z,{addonAfter:"%"})}),(0,p.jsx)(Q.Z.Item,{style:{marginTop:50},children:(0,p.jsxs)(o.Z,{justify:"end",gutter:5,wrap:!1,children:[(0,p.jsx)(d.Z,{children:(0,p.jsx)(A.Z,{onClick:function(){return a(!1)},disabled:I,children:"Bekor qilish"})}),(0,p.jsx)(d.Z,{children:(0,p.jsx)(A.Z,{htmlType:"submit",loading:I,disabled:I,type:"primary",children:"Tasdiqlash"})})]})})]}))})})},K=function(){var e,i,a,g=(0,h.Im)(),m=(0,h.FA)(),E=(0,h.dY)(),Q=(0,n.Z)(E,2),j=Q[0],Z=Q[1].isLoading,x=(0,r.useState)(!1),f=(0,n.Z)(x,2),y=f[0],I=f[1],B=(0,r.useState)(!1),C=(0,n.Z)(B,2),v=C[0],b=C[1],N=(0,r.useState)({name:"",categoryId:0,image:"",description:"",price:0,discount:0}),S=(0,n.Z)(N,2),K=S[0],z=S[1],R=[{title:"\u2116",dataIndex:"id",key:"id",render:function(e,i,a){return(0,p.jsx)("span",{children:a+1})}},{title:"Nomi",dataIndex:"name",key:"name",render:function(e,i){return(0,p.jsxs)(s.Z,{size:2,children:[(0,p.jsx)(l.Z,{width:30,height:30,src:"http://147.182.130.242:3000/".concat(i.image),fallback:"data:image/png;base64,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"}),e]})}},{title:"Tarifi",dataIndex:"description",key:"description",render:function(e,i){return(0,p.jsx)(p.Fragment,{children:e})}},{title:"Narxi",dataIndex:"price",key:"price",render:function(e,i){return(0,p.jsx)(p.Fragment,{children:e})}},{title:"Chegirma",dataIndex:"discount",key:"discount",render:function(e,i){return(0,p.jsx)(p.Fragment,{children:e})}},{title:"Amallar",key:"action",width:"20%",render:function(e,i,a){return(0,p.jsxs)(o.Z,{wrap:!1,gutter:5,children:[(0,p.jsx)(d.Z,{children:(0,p.jsx)(A.Z,{size:"small",type:"primary",ghost:!0,onClick:function(){return i=e,b(!0),void z(i);var i},children:"Tahrirlash"})}),(0,p.jsx)(d.Z,{children:(0,p.jsx)(u.EY,{onConfirm:function(){return i=e.id,void j({id:i}).unwrap().then((function(e){200===e.statusCode&&(t.ZP.success("Muvaffaqiyati o'chirildi."),b(!1))})).catch((function(e){t.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}));var i},title:"O\u02bbchirishga ishonchingiz komilmi?",children:(0,p.jsx)(A.Z,{size:"small",danger:!0,disabled:Z,children:"O'chirish"})})})]})}}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(d.Z,{span:20,children:(0,p.jsx)(c.Z.Title,{level:2,children:"Mahsulotlar"})}),(0,p.jsx)(d.Z,{span:4,children:(0,p.jsx)(A.Z,{type:"primary",onClick:function(){return I((function(e){return!e}))},children:"Yaratish"})})]}),(0,p.jsx)(u.iA,{columns:R,dataSource:null===(e=m.data)||void 0===e?void 0:e.data,loading:m.isFetching,pagination:{defaultPageSize:5},rowKey:function(e){return e.id}}),(0,p.jsx)(k,{visible:y,setVisible:I,categoryData:null===(i=g.data)||void 0===i?void 0:i.data}),(0,p.jsx)(J,{updateData:K,visible:v,setVisible:b,categoryData:null===(a=g.data)||void 0===a?void 0:a.data})]})}}}]);
//# sourceMappingURL=184.5d457fea.chunk.js.map