"use strict";(self.webpackChunkdelivery_admin=self.webpackChunkdelivery_admin||[]).push([[625],{6625:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var t=i(1413),a=i(9439),r=i(2791),o=i(3695),d=i(6106),l=i(914),c=i(7309),u=i(1520),s=i(1756),f=i(5485),m=i(5487),p=i(4925),h=i(1095),Z=i(2862),y=i(9389),x=i(7555),j=i(3560),g=i(184),v=["updateData","modalType"],k=function(e){var n=e.updateData,i=e.modalType,d=(0,p.Z)(e,v),l=h.Z.useForm(),c=(0,a.Z)(l,1)[0],u=(0,m.lZ)(),s=(0,a.Z)(u,2),f=s[0],k=s[1],T=(0,m.li)(),C=(0,a.Z)(T,2),X=C[0],w=C[1],M=(0,x.T)(),b=function(){c.resetFields()};(0,r.useEffect)((function(){return n&&"update"===i&&c.setFieldsValue({name:n.name}),function(){return b()}}),[n,i]);var F=(0,t.Z)({onOk:function(){c.validateFields().then((function(e){if("update"===i)X({id:null===n||void 0===n?void 0:n.id,value:e}).unwrap().then((function(e){200===e.statusCode&&(o.ZP.success("Muvaffaqiyati tahrirlandi."),M((0,j.Xj)({openModal:!1,modalType:""})),b())})).catch((function(e){o.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}));else if("create"===i){f(e).unwrap().then((function(e){200===e.statusCode&&(o.ZP.success("Muvaffaqiyati saqlandi."),M((0,j.Xj)({openModal:!1,modalType:""})),b())})).catch((function(e){o.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}))}})).catch((function(e){return console.log("Form error: ",e)}))},confirmLoading:!!i.length&&("create"===i?k.isLoading:w.isLoading)},d);return(0,g.jsx)(Z.Z,(0,t.Z)((0,t.Z)({},F),{},{children:(0,g.jsx)(h.Z,{form:c,name:"basic",layout:"vertical",autoComplete:"off",children:(0,g.jsx)(h.Z.Item,{name:"name",label:"Nomi:",rules:[{required:!0,message:"Kategoriyani nomini kiriting"}],children:(0,g.jsx)(y.Z,{placeholder:"Nomini kiriting"})})})}))},T=i(3168),C=function(){var e,n=(0,T.$)().t,i=(0,x.C)((function(e){return e.categorySlice})),p=i.openModal,h=i.modalType,Z=(0,x.T)(),y=(0,m.Im)(),v=(0,m.No)(),C=(0,a.Z)(v,2),X=C[0],w=C[1].isLoading,M=(0,r.useState)({name:""}),b=(0,a.Z)(M,2),F=b[0],P=b[1],z=[{title:"\u2116",dataIndex:"id",key:"id",width:"5%",render:function(e,n,i){return(0,g.jsx)("span",{children:i+1})}},{title:"Nomi",dataIndex:"name",key:"name",width:"75%",render:function(e){return(0,g.jsx)("span",{children:e})}},{title:"Amallar",key:"action",width:"20%",render:function(e){return(0,g.jsxs)(d.Z,{wrap:!1,gutter:5,children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(c.Z,{size:"small",type:"primary",ghost:!0,onClick:function(){return P(e),void Z((0,j.Xj)({openModal:!0,modalType:"update"}))},children:n("edit")})}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(u.Z,{okText:n("yes"),cancelText:n("no"),onConfirm:function(){return n=e.id,void X({id:n}).unwrap().then((function(e){200===e.statusCode&&o.ZP.success("Muvaffaqiyati o'chirildi.")})).catch((function(e){o.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}));var n},title:n("sureDelete"),children:(0,g.jsx)(c.Z,{size:"small",danger:!0,disabled:w,children:n("delete")})})})]})}}],q={title:n("update"===h?"edit":"add"),open:p,okText:n("update"===h?"edit":"add"),cancelText:n("close"),onCancel:function(){Z((0,j.Xj)({openModal:!1,modalType:""})),P(void 0)}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(l.Z,{span:20,children:(0,g.jsx)(f.Z.Title,{level:2,children:n("menus.category")})}),(0,g.jsx)(l.Z,{span:4,children:(0,g.jsx)(c.Z,{type:"primary",onClick:function(){return Z((0,j.Xj)({openModal:!0,modalType:"create"}))},children:n("add")})})]}),(0,g.jsx)(s.Z,{columns:z,dataSource:null===(e=y.data)||void 0===e?void 0:e.data,loading:y.isFetching,pagination:{defaultPageSize:5}}),(0,g.jsx)(k,(0,t.Z)({updateData:F,modalType:h},q))]})}},7555:function(e,n,i){i.d(n,{C:function(){return r},T:function(){return a}});var t=i(5048),a=function(){return(0,t.I0)()},r=t.v9}}]);
//# sourceMappingURL=625.6a8753fc.chunk.js.map