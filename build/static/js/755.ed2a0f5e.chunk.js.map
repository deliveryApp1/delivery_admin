{"version":3,"file":"static/js/755.ed2a0f5e.chunk.js","mappings":"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","sources":["constants/constants.ts","pages/Users/components/Modal.tsx","pages/Users/Users.tsx"],"sourcesContent":["import moment from 'moment'\r\nexport const roles: Array<Object> = [\r\n    // {\r\n    //     id: 1,\r\n    //     name: 'CLIENT'\r\n    // },\r\n    {\r\n        id: 2,\r\n        name: 'ADMIN'\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'COURIER'\r\n    }\r\n]\r\n\r\nexport const disabledDateStart = (current: any) => current && current >= moment().endOf('day');\r\nexport const dateFormat = \"DD.MM.YYYY\";","// import type { DatePickerProps } from 'antd';\r\nimport { useUsersAddMutation, useUsersUpdateMutation } from \"store/endpoints\";\r\nimport { Form, message, Input, InputNumber, Select, ModalProps, Modal, DatePicker } from \"antd\";\r\n// import { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useDispatch } from 'react-redux';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { roles, dateFormat, disabledDateStart } from 'constants/constants';\r\nimport { updateUsersStates } from \"../usersSlice\";\r\n\r\nconst { Option } = Select;\r\n\r\ntype Props = ModalProps & {\r\n    categoryData: any,\r\n    updateData: any,\r\n    modalType: string;\r\n    t: any\r\n};\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 14,\r\n    },\r\n}\r\n\r\nconst UsersModal: React.FC<Props> = ({ updateData, t, categoryData, modalType, ...modalProps }) => {\r\n    const dispatch = useDispatch()\r\n    const [form] = Form.useForm();\r\n    const [birthday, setBirthday] = useState<string>()\r\n    const [usersUpdateMutation, usersUpdate] = useUsersUpdateMutation();\r\n    const [usersMutation, usersCreate] = useUsersAddMutation();\r\n    const clearState = () => {\r\n        form.resetFields()\r\n    }\r\n    useEffect(() => {\r\n        if (updateData && modalType === 'update') {\r\n            console.log('updateData: ', updateData);\r\n            form.setFieldsValue({\r\n                image: updateData?.image,\r\n                name: updateData?.name,\r\n                categoryId: updateData?.categoryId,\r\n                description: updateData?.description,\r\n                price: updateData?.price,\r\n                discount: updateData?.discount\r\n            })\r\n        }\r\n        return () => clearState()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [updateData, modalType])\r\n\r\n    const handleSubmit = () => {\r\n        form.validateFields()\r\n            .then(data => {\r\n                const formData = { ...data, phone: data.phone.toString(), birthday: birthday }\r\n                console.log('formData: ', formData);\r\n                if (modalType === 'update') {\r\n                    const usersPromise = usersUpdateMutation({\r\n                        id: updateData.id,\r\n                        value: formData,\r\n                    }).unwrap();\r\n                    usersPromise\r\n                        .then((res: { statusCode: number; }) => {\r\n                            if (res.statusCode === 200) {\r\n                                message.success(\"Muvaffaqiyati tahrirlandi.\");\r\n                                dispatch(updateUsersStates({ openModal: false, modalType: '' }))\r\n                                form.resetFields();\r\n                            }\r\n                        })\r\n                        .catch((err: { message: any; }) => {\r\n                            message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n                        });\r\n                } else if (modalType === 'create') {\r\n                    const usersPromise = usersMutation(formData).unwrap();\r\n                    usersPromise\r\n                        .then((res) => {\r\n                            if (res.statusCode === 200) {\r\n                                message.success(\"Muvaffaqiyati saqlandi.\");\r\n                                dispatch(updateUsersStates({ openModal: false, modalType: '' }))\r\n                                form.resetFields();\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n                        });\r\n                }\r\n            }).catch(err => console.log('Form error: ', err))\r\n\r\n    };\r\n\r\n    const roleOptions = roles.map((role: any) => (<Option key={role.id} value={role.name}>{role.name}</Option>))\r\n    const props = { onOk: handleSubmit, confirmLoading: modalType.length ? modalType === 'create' ? usersCreate.isLoading : usersUpdate.isLoading : false, forceRender: true, ...modalProps }\r\n    return (\r\n        <>\r\n            <Modal\r\n                {...props}\r\n            >\r\n                <Form\r\n                    {...formItemLayout}\r\n                    form={form}\r\n                    name=\"basic\"\r\n                    layout=\"horizontal\"\r\n                    autoComplete=\"off\"\r\n                >\r\n                    <Form.Item\r\n                        name='username'\r\n                        label={t(\"usersMenu.username\")}\r\n                        rules={[\r\n                            { required: true, message: `Username kiriting` },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder=\"Username kiriting\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        label=\"Parol:\"\r\n                        rules={[\r\n                            { required: true, message: `Parol kiriting` },\r\n                        ]}\r\n                    >\r\n                        <Input placeholder=\"Parol kiriting\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"phone\"\r\n                        label={t(\"usersMenu.phone_number\")}\r\n                        rules={[\r\n                            {\r\n                                type: \"regexp\",\r\n                                pattern: new RegExp(/^[0-9]*$/gm),\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: `Noto'g'ri format`\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <InputNumber style={{ width: '100%' }} placeholder=\"Telefon raqamini kiriting\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"role\"\r\n                        label={t(\"usersMenu.role\")}\r\n                        rules={[\r\n                            { required: true, message: `Rolini tanlang` },\r\n                        ]}\r\n                    >\r\n                        <Select allowClear placeholder='Rolini tanlang'>\r\n                            {roleOptions}\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"birthday\"\r\n                        label={t(\"usersMenu.birthday\")}\r\n                        rules={[\r\n                            { required: true, message: `Tug'ilgan sanasini kiriting` },\r\n                        ]}\r\n                    >\r\n                        <DatePicker allowClear showNow\r\n                            format={dateFormat}\r\n                            onChange={(_, dateString) => setBirthday(dateString)}\r\n                            style={{ width: '100%' }}\r\n                            disabledDate={disabledDateStart}\r\n                            placeholder='Sanani kiriting' />\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UsersModal;\r\n","import React, { useState } from \"react\";\r\nimport type { RootState } from '../../store/store'\r\nimport { Button, Col, message, Row, Typography, Table, Popconfirm } from \"antd\";\r\nimport type { ColumnsType } from 'antd/es/table';\r\nimport { useTranslation } from 'react-i18next';\r\nimport UsersModal from \"./components/Modal\";\r\nimport { UsersDTO } from \"types\";\r\nimport { useUsersDeleteMutation, useUsersQuery, useCategoryQuery } from \"store/endpoints\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updateUsersStates } from \"./usersSlice\";\r\n\r\ninterface DataType {\r\n    key?: string;\r\n    id: number | string;\r\n    username: string;\r\n    phone: string;\r\n    role: string;\r\n    birthday: string;\r\n}\r\n\r\nconst Users: React.FC = () => {\r\n    const { t } = useTranslation()\r\n    const { openModal, modalType } = useSelector((state: RootState) => state.usersSlice)\r\n    const dispatch = useDispatch()\r\n\r\n    const categoryQuery = useCategoryQuery();\r\n    const usersQuery = useUsersQuery();\r\n    const [usersDelete, { isLoading }] = useUsersDeleteMutation();\r\n    const [updateData, setUpdateData] = useState();\r\n    const handleUpdate = (data: any) => {\r\n        setUpdateData(data);\r\n        dispatch(updateUsersStates({ openModal: true, modalType: 'update' }))\r\n    };\r\n    const handleDelete = (id: any) => {\r\n        const category = usersDelete({ id }).unwrap();\r\n        category\r\n            .then((res) => {\r\n                if (res.statusCode === 200) {\r\n                    message.success(\"Muvaffaqiyati o'chirildi.\");\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n            });\r\n    };\r\n\r\n    const columns: ColumnsType<DataType> = [\r\n        {\r\n            title: \"№\",\r\n            dataIndex: \"id\",\r\n            key: \"id\",\r\n            width: \"5%\",\r\n            render: (item, record, index) => <span>{index + 1}</span>,\r\n        },\r\n        {\r\n            title: t(\"usersMenu.username\"),\r\n            dataIndex: \"username\",\r\n            key: \"username\",\r\n            // width: \"75%\",\r\n            // render: (item, record: any) => {\r\n            //     return <Space size={5}>\r\n            //         <Image\r\n            //             width={30}\r\n            //             height={30}\r\n            //             src={`http://147.182.130.242:3000/${record.image}`}\r\n            //             fallback=\"data:image/png;base64,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\"\r\n            //         />{item}</Space>\r\n            // }\r\n        },\r\n        {\r\n            title: t(\"usersMenu.phone_number\"),\r\n            dataIndex: \"phone\",\r\n            key: \"phone\",\r\n            // width: \"75%\",\r\n            render: (item, record) => <>{item}</>\r\n        },\r\n        {\r\n            title: t(\"usersMenu.role\"),\r\n            dataIndex: \"role\",\r\n            key: \"role\",\r\n            // width: \"75%\",\r\n            render: (item, record) => <>{item}</>\r\n        },\r\n        {\r\n            title: t(\"usersMenu.birthday\"),\r\n            dataIndex: \"birthday\",\r\n            key: \"birthday\",\r\n            // width: \"75%\",\r\n            render: (item, record) => <>{item}</>\r\n        },\r\n        {\r\n            title: t(\"actions\"),\r\n            key: \"action\",\r\n            width: \"20%\",\r\n            render: (item: UsersDTO, record, index) => {\r\n                return (\r\n                    <Row wrap={false} gutter={5}>\r\n                        <Col>\r\n                            <Button\r\n                                size=\"small\"\r\n                                type=\"primary\"\r\n                                ghost\r\n                                onClick={() => handleUpdate(item)}\r\n                            >\r\n                                {t('edit')}\r\n                            </Button>\r\n                        </Col>\r\n                        <Col>\r\n                            <Popconfirm\r\n                                okText={t(\"yes\")}\r\n                                cancelText={t(\"no\")}\r\n                                onConfirm={() => handleDelete(item.id)}\r\n                                title={t(\"sureDelete\")}\r\n                            >\r\n                                <Button size=\"small\" danger disabled={isLoading}>\r\n                                    {t(\"delete\")}\r\n                                </Button>\r\n                            </Popconfirm>\r\n                        </Col>\r\n                    </Row>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n    const handleCloseModal = () => {\r\n        dispatch(updateUsersStates({ openModal: false, modalType: '' }))\r\n        setUpdateData(undefined)\r\n    }\r\n\r\n    const modalProps = {\r\n        title: modalType === 'update' ? t('edit') : t('add'),\r\n        open: openModal,\r\n        okText: modalType === 'update' ? t('edit') : t('add'),\r\n        cancelText: t('close'),\r\n        onCancel: handleCloseModal\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Row>\r\n                <Col span={20}>\r\n                    <Typography.Title level={2}>{t('menus.users')}</Typography.Title>\r\n                </Col>\r\n                <Col span={4}>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={() => dispatch(updateUsersStates({ openModal: true, modalType: 'create' }))}\r\n                    >\r\n                        {t('add')}\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Table\r\n                columns={columns}\r\n                dataSource={usersQuery.data?.data}\r\n                loading={usersQuery.isFetching}\r\n                pagination={{ defaultPageSize: 5 }}\r\n                rowKey={record => record.id}\r\n            />\r\n            <UsersModal updateData={updateData} t={t} modalType={modalType} categoryData={categoryQuery.data?.data} {...modalProps} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Users;\r\n"],"names":["roles","id","name","disabledDateStart","current","moment","endOf","Option","Select","formItemLayout","labelCol","span","wrapperCol","updateData","t","modalType","categoryData","modalProps","dispatch","useDispatch","Form","form","useState","birthday","setBirthday","useUsersUpdateMutation","usersUpdateMutation","usersUpdate","useUsersAddMutation","usersMutation","usersCreate","useEffect","console","log","setFieldsValue","image","categoryId","description","price","discount","resetFields","roleOptions","map","role","value","props","onOk","validateFields","then","data","formData","phone","toString","unwrap","res","statusCode","message","updateUsersStates","openModal","catch","err","confirmLoading","length","isLoading","forceRender","layout","autoComplete","label","rules","required","placeholder","type","pattern","RegExp","style","width","allowClear","showNow","format","onChange","_","dateString","disabledDate","useTranslation","useSelector","state","usersSlice","categoryQuery","useCategoryQuery","usersQuery","useUsersQuery","useUsersDeleteMutation","usersDelete","setUpdateData","columns","title","dataIndex","key","render","item","record","index","wrap","gutter","size","ghost","onClick","okText","cancelText","onConfirm","danger","disabled","open","onCancel","undefined","level","dataSource","loading","isFetching","pagination","defaultPageSize","rowKey"],"sourceRoot":""}