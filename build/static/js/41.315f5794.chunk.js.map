{"version":3,"file":"static/js/41.315f5794.chunk.js","mappings":"uQAiEA,EAxDqC,SAAC,GAAuC,IAArCA,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SAE3D,GAA0CC,EAAAA,EAAAA,MAA1C,eAAOC,EAAP,KAA2BC,EAA3B,KAA2BA,UAa3B,OACE,+BACE,SAAC,KAAD,CACEC,MAAO,sBACPC,KAAMP,EACNQ,KAAMN,EACNO,SAAU,kBAAMR,GAAW,EAAjB,EAJZ,UAME,UAAC,IAAD,CACES,KAAK,QACLC,OAAO,WACPC,SAvBa,SAACC,GACIT,EAAiBS,GAAOC,SAE7CC,MAAK,SAACC,GACLf,GAAW,GACXgB,QAAQC,IAAIF,EACb,IACAG,OAAM,SAACC,GACNH,QAAQC,IAAIE,EACb,GACJ,EAcOC,aAAa,MAJf,WAME,SAAC,SAAD,CACEX,KAAK,OACLY,MAAM,cACNC,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAQ,kCAJ9B,UAOE,SAAC,QAAD,OAEF,SAAC,SAAD,CAAWC,MAAO,CAAEC,UAAW,IAA/B,UACE,UAAC,IAAD,CAAKC,QAAQ,MAAMC,OAAQ,EAAGC,MAAM,EAApC,WACE,SAAC,IAAD,WACE,SAAC,IAAD,CAAQC,QAAS,kBAAM9B,GAAW,EAAjB,EAAjB,6BAEF,SAAC,IAAD,WACE,SAAC,IAAD,CAAQ+B,SAAS,SAASC,SAAU5B,EAApC,qCAUf,ECkBD,EArEqC,SAAC,GAAyC,IAAvCL,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,WAAYiC,EAAiB,EAAjBA,WAC3D,EAAeC,EAAAA,EAAAA,UAARC,GAAP,eACA,GAA8CC,EAAAA,EAAAA,MAA9C,eAAOC,EAAP,KAAgCjC,EAAhC,KAAgCA,UAyBhC,OATAkC,EAAAA,EAAAA,YAAU,WAEJH,EAAKI,aAAa9B,MAClB0B,EAAKK,eAAe,CAClB/B,KAAMwB,EAAWxB,MAGxB,GAAE,CAACwB,KAGF,+BACE,SAAC,KAAD,CACE5B,MAAO,0BACPC,KAAMP,EACNS,SAAU,kBAAMR,GAAW,EAAjB,EAHZ,UAKE,UAAC,IAAD,CACEmC,KAAMA,EACN1B,KAAK,QACLC,OAAO,WACLC,SAjCW,SAACC,GACIyB,EAAuB,CAACI,GAAGR,EAAWQ,GAAI7B,MAAAA,IAAQC,SAEvEC,MAAK,SAACC,GACLf,GAAW,GACXgB,QAAQC,IAAIF,EACb,IACAG,OAAM,SAACC,GACNH,QAAQC,IAAIE,EACb,GACA,EAwBGC,aAAa,MALf,WAOE,SAAC,SAAD,CACEX,KAAK,OACLY,MAAM,cACNC,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAQ,kCAJ9B,UAOE,SAAC,QAAD,OAGF,SAAC,SAAD,CAAWC,MAAO,CAAEC,UAAW,IAA/B,UACE,UAAC,IAAD,CAAKC,QAAQ,MAAMC,OAAQ,EAAGC,MAAM,EAApC,WACE,SAAC,IAAD,WACE,SAAC,IAAD,CAAQC,QAAS,kBAAM9B,GAAW,EAAjB,EAAjB,6BAEF,SAAC,IAAD,WACE,SAAC,IAAD,CAAQ+B,SAAS,SAASC,SAAU5B,EAApC,qCAUf,EC+BD,EArG2B,WAAO,IAAD,EACzBsC,GAAgBC,EAAAA,EAAAA,MACtB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KACA,GADA,KAAyBzC,WACa0C,EAAAA,EAAAA,WAAkB,IAAxD,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAsCF,EAAAA,EAAAA,WAAkB,GAAxD,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAoCJ,EAAAA,EAAAA,UAAsB,CAAErC,KAAM,KAAlE,eAAOwB,EAAP,KAAmBkB,EAAnB,KAkBMC,EAA4B,CAChC,CACE/C,MAAO,SACPgD,UAAW,KACXC,IAAK,KACLC,MAAO,KACPC,OAAQ,SAACC,GAAD,OAAU,0BAAOA,GAAjB,GAEV,CACEpD,MAAO,OACPgD,UAAW,OACXC,IAAK,OACLC,MAAO,MACPC,OAAQ,SAACC,GAAD,OAAU,0BAAOA,GAAjB,GAEV,CACEpD,MAAO,SACPiD,IAAK,SACLC,MAAO,MACPC,OAAQ,SAAC5C,GACP,OACE,UAAC,IAAD,CAAKiB,MAAM,EAAOD,OAAQ,EAA1B,WACE,SAAC,IAAD,WACE,SAAC,IAAD,CACE8B,KAAK,QACLC,KAAK,UACL7B,QAAS,kBA1CD8B,EA0CoBhD,EAzCxCsC,GAAe,QACfC,EAAcS,GAFK,IAACA,CA0CC,EAHX,qBAQF,SAAC,IAAD,WACE,SAAC,IAAD,CACEF,KAAK,QACLG,QAAM,EACN/B,QAAS,kBA/CDW,EA+CoB7B,EAAM6B,QA9C7BI,EAAe,CAAEJ,GAAAA,IAAM5B,SAErCC,MAAK,SAACC,GACLmC,GAAe,GACflC,QAAQC,IAAIF,EACb,IACAG,OAAM,SAACC,GACNH,QAAQC,IAAIE,EACb,IATgB,IAACsB,CA+CC,EAHX,wBAUP,IAIL,OACE,iCACE,UAAC,IAAD,YACE,SAAC,IAAD,CAAKqB,KAAM,GAAX,UACE,SAAC,UAAD,CAAkBC,MAAO,EAAzB,8BAEF,SAAC,IAAD,CAAKD,KAAM,EAAX,UACE,SAAC,IAAD,CACEH,KAAK,UACL7B,QAAS,kBAAMkB,GAAe,SAACgB,GAAD,OAAWA,CAAX,GAArB,EAFX,4BASJ,SAAC,KAAD,CACEZ,QAASA,EACTa,WAAU,UAAEvB,EAAckB,YAAhB,aAAE,EAAoBA,KAChCM,QAASxB,EAAcyB,WACvBC,WAAY,CAAEC,gBAAiB,MAEjC,SAAC,EAAD,CAAatE,QAASgD,EAAa/C,WAAYgD,KAC/C,SAAC,EAAD,CACEf,WAAYA,EACZlC,QAASkD,EACTjD,WAAYkD,MAInB,C","sources":["pages/Category/_components/ModalCreate/ModalCreate.tsx","pages/Category/_components/ModalUpdate/ModalUpdate.tsx","pages/Category/Category.tsx"],"sourcesContent":["import { Button, Col, Form, Row } from \"antd\";\r\nimport { FormElements, Modal as AntdModal } from \"components/index\";\r\nimport { useCategoryAddMutation } from \"store/endpoints\";\r\n\r\ntype Props = {\r\n  visible: boolean;\r\n  setVisible: (bool: boolean) => void;\r\n  handleOk?: () => void;\r\n};\r\nconst ModalCreate: React.FC<Props> = ({ visible, setVisible, handleOk }) => {\r\n  \r\n  const [categoryMutation, { isLoading }] = useCategoryAddMutation();\r\n  const handleSubmit = (value: any) => {\r\n    const categoryPromise = categoryMutation(value).unwrap();\r\n    categoryPromise\r\n      .then((res) => {\r\n        setVisible(false);\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AntdModal\r\n        title={\"Kategoriya yaratish\"}\r\n        open={visible}\r\n        onOk={handleOk}\r\n        onCancel={() => setVisible(false)}\r\n      >\r\n        <Form\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          onFinish={handleSubmit} // onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            name=\"name\"\r\n            label=\"kategoriya:\"\r\n            rules={[\r\n              { required: true, message: `Iltimos kategoriyani kiriting` },\r\n            ]}\r\n          >\r\n            <FormElements.Input />\r\n          </Form.Item>\r\n          <Form.Item style={{ marginTop: 50 }}>\r\n            <Row justify=\"end\" gutter={5} wrap={false}>\r\n              <Col>\r\n                <Button onClick={() => setVisible(false)}>Bekor qilish</Button>\r\n              </Col>\r\n              <Col>\r\n                <Button htmlType=\"submit\" disabled={isLoading}>\r\n                  Tasdiqlash\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form.Item>\r\n        </Form>\r\n      </AntdModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalCreate;\r\n","import { Button, Col, Form, Input, Row } from \"antd\";\r\nimport { FormElements, Modal as AntdModal } from \"components/index\";\r\nimport { useEffect } from \"react\";\r\nimport { useCategoryUpdateMutation } from \"store/endpoints\";\r\nimport { CategoryDTO } from \"types/category\";\r\n\r\ntype Props = {\r\n  visible: boolean;\r\n  setVisible: (bool: boolean) => void;\r\n  updateData: CategoryDTO;\r\n};\r\n\r\nconst ModalUpdate: React.FC<Props> = ({ visible, setVisible, updateData }) => {\r\n  const [form] = Form.useForm();\r\n  const [categoryUpdateMutation, {isLoading}] = useCategoryUpdateMutation()\r\n\r\n\r\n  const handleSubmit = (value: any) => {\r\n    const categoryPromise = categoryUpdateMutation({id:updateData.id, value}).unwrap();\r\n    categoryPromise\r\n      .then((res) => {\r\n        setVisible(false);\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n      };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (form.__INTERNAL__.name) {\r\n        form.setFieldsValue({\r\n          name: updateData.name,\r\n        });\r\n     }\r\n  }, [updateData]);\r\n\r\n  return (\r\n    <>\r\n      <AntdModal\r\n        title={\"Kategoriyani tahrirlash\"}\r\n        open={visible}\r\n        onCancel={() => setVisible(false)}\r\n      >\r\n        <Form\r\n          form={form}\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n            onFinish={handleSubmit} // onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            name=\"name\"\r\n            label=\"kategoriya:\"\r\n            rules={[\r\n              { required: true, message: `Iltimos kategoriyani kiriting` },\r\n            ]}\r\n          >\r\n            <FormElements.Input />\r\n          </Form.Item>\r\n\r\n          <Form.Item style={{ marginTop: 50 }}>\r\n            <Row justify=\"end\" gutter={5} wrap={false}>\r\n              <Col>\r\n                <Button onClick={() => setVisible(false)}>Bekor qilish</Button>\r\n              </Col>\r\n              <Col>\r\n                <Button htmlType=\"submit\" disabled={isLoading}>\r\n                  Tasdiqlash\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form.Item>\r\n        </Form>\r\n      </AntdModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalUpdate;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Col, Row, TableColumnsType } from \"antd\";\r\nimport { Typography } from \"antd\";\r\nimport { Table } from \"components/index\";\r\nimport ModalCreate from \"./_components/ModalCreate/ModalCreate\";\r\nimport { CategoryDTO } from \"types/category\";\r\nimport ModalUpdate from \"./_components/ModalUpdate/ModalUpdate\";\r\nimport { useCategoryDeleteMutation, useCategoryQuery } from \"store/endpoints\";\r\n\r\nconst Category: React.FC = () => {\r\n  const categoryQuery = useCategoryQuery();\r\n  const [categoryDelete, { isLoading }] = useCategoryDeleteMutation();\r\n  const [modalCreate, setModalCreate] = useState<boolean>(false);\r\n  const [modalUpdate, setModalUpdate] = useState<boolean>(false);\r\n  const [updateData, setUpdateData] = useState<CategoryDTO>({ name: \"\" });\r\n\r\n  const handleUpdate = (data: CategoryDTO) => {\r\n    setModalUpdate(true);\r\n    setUpdateData(data);\r\n  };\r\n  const handleDelete = (id: number | undefined) => {\r\n    const category = categoryDelete({ id }).unwrap();\r\n    category\r\n      .then((res) => {\r\n        setModalUpdate(false);\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const columns: TableColumnsType = [\r\n    {\r\n      title: \"â„–\",\r\n      dataIndex: \"id\",\r\n      key: \"id\",\r\n      width: \"5%\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      width: \"75%\",\r\n      render: (text) => <span>{text}</span>,\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      key: \"action\",\r\n      width: \"20%\",\r\n      render: (value: CategoryDTO) => {\r\n        return (\r\n          <Row wrap={false} gutter={5}>\r\n            <Col>\r\n              <Button\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                onClick={() => handleUpdate(value)}\r\n              >\r\n                Edit\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                size=\"small\"\r\n                danger\r\n                onClick={() => handleDelete(value.id)}\r\n              >\r\n                Delete\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={20}>\r\n          <Typography.Title level={2}>Kategoriyalar</Typography.Title>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => setModalCreate((prev) => !prev)}\r\n          >\r\n            Yaratish\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Table\r\n        columns={columns}\r\n        dataSource={categoryQuery.data?.data}\r\n        loading={categoryQuery.isFetching}\r\n        pagination={{ defaultPageSize: 5 }}\r\n      />\r\n      <ModalCreate visible={modalCreate} setVisible={setModalCreate} />\r\n      <ModalUpdate\r\n        updateData={updateData}\r\n        visible={modalUpdate}\r\n        setVisible={setModalUpdate}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n"],"names":["visible","setVisible","handleOk","useCategoryAddMutation","categoryMutation","isLoading","title","open","onOk","onCancel","name","layout","onFinish","value","unwrap","then","res","console","log","catch","err","autoComplete","label","rules","required","message","style","marginTop","justify","gutter","wrap","onClick","htmlType","disabled","updateData","Form","form","useCategoryUpdateMutation","categoryUpdateMutation","useEffect","__INTERNAL__","setFieldsValue","id","categoryQuery","useCategoryQuery","useCategoryDeleteMutation","categoryDelete","useState","modalCreate","setModalCreate","modalUpdate","setModalUpdate","setUpdateData","columns","dataIndex","key","width","render","text","size","type","data","danger","span","level","prev","dataSource","loading","isFetching","pagination","defaultPageSize"],"sourceRoot":""}