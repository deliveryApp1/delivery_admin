"use strict";(self.webpackChunkdelivery_admin=self.webpackChunkdelivery_admin||[]).push([[763],{3763:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ze}});var r=t(9439),a=t(2791),i=t(3695),o=t(3099),s=t(6755),l=t(6106),u=t(914),c=t(7309),d=t(5485),g=t(9464),m=t(1413),f=t(3837),h=t(9389),A=t(3734),p=t(1095),v=t(9553),E=t(7462),y=t(4942),N=t(1002),Z=t(7295),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},x=t(4291),S=function(e,n){return a.createElement(x.Z,(0,m.Z)((0,m.Z)({},e),{},{ref:n,icon:b}))};S.displayName="UpOutlined";var I=a.forwardRef(S),Q=t(1694),j=t.n(Q),k=t(4925),C=t(1354),w=t(1605),B=t(8834),R=t(5671),M=t(3144);function T(){return"function"===typeof BigInt}function F(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),(n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(n="0".concat(n));var r=n||"0",a=r.split("."),i=a[0]||"0",o=a[1]||"0";"0"===i&&"0"===o&&(t=!1);var s=t?"-":"";return{negative:t,negativeStr:s,trimStr:r,integerStr:i,decimalStr:o,fullStr:"".concat(s).concat(r)}}function J(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function K(e){var n=String(e);if(J(e)){var t=Number(n.slice(n.indexOf("e-")+2)),r=n.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(t+=r[1].length),t}return n.includes(".")&&D(n)?n.length-n.indexOf(".")-1:0}function q(e){var n=String(e);if(J(e)){if(e>Number.MAX_SAFE_INTEGER)return String(T()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(T()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(K(n))}return F(n).fullStr}function D(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function z(e){var n="number"===typeof e?q(e):F(e).fullStr;return n.includes(".")?F(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var U=function(){function e(n){(0,R.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,(n||0===n)&&String(n).trim()?(this.origin=String(n),this.number=Number(n)):this.empty=!0}return(0,M.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var t=Number(n);if(Number.isNaN(t))return this;var r=this.number+t;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var a=Math.max(K(this.number),K(t));return new e(r.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":q(this.number):this.origin}}]),e}(),P=function(){function e(n){if((0,R.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(n||0===n)&&String(n).trim())if(this.origin=String(n),"-"!==n){var t=n;if(J(t)&&(t=Number(t)),D(t="string"===typeof t?t:q(t))){var r=F(t);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return(0,M.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(n)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var t=new e(n);if(t.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),a=F((this.alignDecimal(r)+t.alignDecimal(r)).toString()),i=a.negativeStr,o=a.trimStr,s="".concat(i).concat(o.padStart(r+1,"0"));return new e("".concat(s.slice(0,-r),".").concat(s.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.isInvalidate()?"":F("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function L(e){return T()?new P(e):new U(e)}function O(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var a=F(e),i=a.negativeStr,o=a.integerStr,s=a.decimalStr,l="".concat(n).concat(s),u="".concat(i).concat(o);if(t>=0){var c=Number(s[t]);if(c>=5&&!r){var d=L(e).add("".concat(i,"0.").concat("0".repeat(t)).concat(10-c));return O(d.toString(),n,t,r)}return 0===t?u:"".concat(u).concat(n).concat(s.padEnd(t,"0").slice(0,t))}return".0"===l?u:"".concat(u).concat(l)}var Y=t(3786);function H(e){var n=e.prefixCls,t=e.upNode,r=e.downNode,i=e.upDisabled,o=e.downDisabled,s=e.onStep,l=a.useRef(),u=a.useRef();u.current=s;var c=function(e,n){e.preventDefault(),u.current(n),l.current=setTimeout((function e(){u.current(n),l.current=setTimeout(e,200)}),600)},d=function(){clearTimeout(l.current)};if(a.useEffect((function(){return d}),[]),(0,Y.Z)())return null;var g="".concat(n,"-handler"),m=j()(g,"".concat(g,"-up"),(0,y.Z)({},"".concat(g,"-up-disabled"),i)),f=j()(g,"".concat(g,"-down"),(0,y.Z)({},"".concat(g,"-down-disabled"),o)),h={unselectable:"on",role:"button",onMouseUp:d,onMouseLeave:d};return a.createElement("div",{className:"".concat(g,"-wrap")},a.createElement("span",(0,E.Z)({},h,{onMouseDown:function(e){c(e,!0)},"aria-label":"Increase Value","aria-disabled":i,className:m}),t||a.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),a.createElement("span",(0,E.Z)({},h,{onMouseDown:function(e){c(e,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:f}),r||a.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}var G=t(632);var X=t(5314),W=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],V=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},_=function(e){var n=L(e);return n.isInvalidate()?null:n},$=a.forwardRef((function(e,n){var t,i=e.prefixCls,o=void 0===i?"rc-input-number":i,s=e.className,l=e.style,u=e.min,c=e.max,d=e.step,g=void 0===d?1:d,m=e.defaultValue,f=e.value,h=e.disabled,A=e.readOnly,p=e.upHandler,v=e.downHandler,Z=e.keyboard,b=e.controls,x=void 0===b||b,S=e.stringMode,I=e.parser,Q=e.formatter,R=e.precision,M=e.decimalSeparator,T=e.onChange,F=e.onInput,J=e.onPressEnter,U=e.onStep,P=(0,k.Z)(e,W),Y="".concat(o,"-input"),$=a.useRef(null),ee=a.useState(!1),ne=(0,r.Z)(ee,2),te=ne[0],re=ne[1],ae=a.useRef(!1),ie=a.useRef(!1),oe=a.useRef(!1),se=a.useState((function(){return L(null!==f&&void 0!==f?f:m)})),le=(0,r.Z)(se,2),ue=le[0],ce=le[1];var de=a.useCallback((function(e,n){if(!n)return R>=0?R:Math.max(K(e),K(g))}),[R,g]),ge=a.useCallback((function(e){var n=String(e);if(I)return I(n);var t=n;return M&&(t=t.replace(M,".")),t.replace(/[^\w.-]+/g,"")}),[I,M]),me=a.useRef(""),fe=a.useCallback((function(e,n){if(Q)return Q(e,{userTyping:n,input:String(me.current)});var t="number"===typeof e?q(e):e;if(!n){var r=de(t,n);if(D(t)&&(M||r>=0))t=O(t,M||".",r)}return t}),[Q,de,M]),he=a.useState((function(){var e=null!==m&&void 0!==m?m:f;return ue.isInvalidate()&&["string","number"].includes((0,N.Z)(e))?Number.isNaN(e)?"":e:fe(ue.toString(),!1)})),Ae=(0,r.Z)(he,2),pe=Ae[0],ve=Ae[1];function Ee(e,n){ve(fe(e.isInvalidate()?e.toString(!1):e.toString(!n),n))}me.current=pe;var ye=a.useMemo((function(){return _(c)}),[c,R]),Ne=a.useMemo((function(){return _(u)}),[u,R]),Ze=a.useMemo((function(){return!(!ye||!ue||ue.isInvalidate())&&ye.lessEquals(ue)}),[ye,ue]),be=a.useMemo((function(){return!(!Ne||!ue||ue.isInvalidate())&&ue.lessEquals(Ne)}),[Ne,ue]),xe=function(e,n){var t=(0,a.useRef)(null);return[function(){try{var n=e.selectionStart,r=e.selectionEnd,a=e.value,i=a.substring(0,n),o=a.substring(r);t.current={start:n,end:r,value:a,beforeTxt:i,afterTxt:o}}catch(s){}},function(){if(e&&t.current&&n)try{var r=e.value,a=t.current,i=a.beforeTxt,o=a.afterTxt,s=a.start,l=r.length;if(r.endsWith(o))l=r.length-t.current.afterTxt.length;else if(r.startsWith(i))l=i.length;else{var u=i[s-1],c=r.indexOf(u,s-1);-1!==c&&(l=c+1)}e.setSelectionRange(l,l)}catch(d){(0,G.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(d.message))}}]}($.current,te),Se=(0,r.Z)(xe,2),Ie=Se[0],Qe=Se[1],je=function(e){return ye&&!e.lessEquals(ye)?ye:Ne&&!Ne.lessEquals(e)?Ne:null},ke=function(e){return!je(e)},Ce=function(e,n){var t,r=e,a=ke(r)||r.isEmpty();if(r.isEmpty()||n||(r=je(r)||r,a=!0),!A&&!h&&a){var i=r.toString(),o=de(i,n);return o>=0&&(r=L(O(i,".",o)),ke(r)||(r=L(O(i,".",o,!0)))),r.equals(ue)||(t=r,void 0===f&&ce(t),null===T||void 0===T||T(r.isEmpty()?null:V(S,r)),void 0===f&&Ee(r,n)),r}return ue},we=function(){var e=(0,a.useRef)(0),n=function(){X.Z.cancel(e.current)};return(0,a.useEffect)((function(){return n}),[]),function(t){n(),e.current=(0,X.Z)((function(){t()}))}}(),Be=function e(n){if(Ie(),ve(n),!ie.current){var t=L(ge(n));t.isNaN()||Ce(t,!0)}null===F||void 0===F||F(n),we((function(){var t=n;I||(t=n.replace(/\u3002/g,".")),t!==n&&e(t)}))},Re=function(e){var n;if(!(e&&Ze||!e&&be)){ae.current=!1;var t=L(oe.current?z(g):g);e||(t=t.negate());var r=(ue||L(0)).add(t.toString()),a=Ce(r,!1);null===U||void 0===U||U(V(S,a),{offset:oe.current?z(g):g,type:e?"up":"down"}),null===(n=$.current)||void 0===n||n.focus()}},Me=function(e){var n=L(ge(pe)),t=n;t=n.isNaN()?ue:Ce(n,e),void 0!==f?Ee(ue,!1):t.isNaN()||Ee(t,!1)};return(0,w.o)((function(){ue.isInvalidate()||Ee(ue,!1)}),[R]),(0,w.o)((function(){var e=L(f);ce(e);var n=L(ge(pe));e.equals(n)&&ae.current&&!Q||Ee(e,ae.current)}),[f]),(0,w.o)((function(){Q&&Qe()}),[pe]),a.createElement("div",{className:j()(o,s,(t={},(0,y.Z)(t,"".concat(o,"-focused"),te),(0,y.Z)(t,"".concat(o,"-disabled"),h),(0,y.Z)(t,"".concat(o,"-readonly"),A),(0,y.Z)(t,"".concat(o,"-not-a-number"),ue.isNaN()),(0,y.Z)(t,"".concat(o,"-out-of-range"),!ue.isInvalidate()&&!ke(ue)),t)),style:l,onFocus:function(){re(!0)},onBlur:function(){Me(!1),re(!1),ae.current=!1},onKeyDown:function(e){var n=e.which,t=e.shiftKey;ae.current=!0,oe.current=!!t,n===C.Z.ENTER&&(ie.current||(ae.current=!1),Me(!1),null===J||void 0===J||J(e)),!1!==Z&&!ie.current&&[C.Z.UP,C.Z.DOWN].includes(n)&&(Re(C.Z.UP===n),e.preventDefault())},onKeyUp:function(){ae.current=!1,oe.current=!1},onCompositionStart:function(){ie.current=!0},onCompositionEnd:function(){ie.current=!1,Be($.current.value)}},x&&a.createElement(H,{prefixCls:o,upNode:p,downNode:v,upDisabled:Ze,downDisabled:be,onStep:Re}),a.createElement("div",{className:"".concat(Y,"-wrap")},a.createElement("input",(0,E.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":u,"aria-valuemax":c,"aria-valuenow":ue.isInvalidate()?null:ue.toString(),step:g},P,{ref:(0,B.sQ)($,n),className:Y,value:pe,onChange:function(e){Be(e.target.value)},disabled:h,readOnly:A}))))}));$.displayName="InputNumber";var ee=$,ne=t(1929),te=t(9125),re=t(1815),ae=t(1940),ie=t(1113),oe=t(2866),se=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},le=a.forwardRef((function(e,n){var t,i=a.useContext(ne.E_),o=i.getPrefixCls,s=i.direction,l=a.useContext(re.Z),u=a.useState(!1),c=(0,r.Z)(u,2),d=c[0],g=c[1],m=a.useRef(null);a.useImperativeHandle(n,(function(){return m.current}));var f=e.className,h=e.size,A=e.disabled,p=e.prefixCls,v=e.addonBefore,b=e.addonAfter,x=e.prefix,S=e.bordered,Q=void 0===S||S,k=e.readOnly,C=e.status,w=e.controls,B=se(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),R=o("input-number",p),M=a.createElement(I,{className:"".concat(R,"-handler-up-inner")}),T=a.createElement(Z.Z,{className:"".concat(R,"-handler-down-inner")}),F="boolean"===typeof w?w:void 0;"object"===(0,N.Z)(w)&&(M="undefined"===typeof w.upIcon?M:a.createElement("span",{className:"".concat(R,"-handler-up-inner")},w.upIcon),T="undefined"===typeof w.downIcon?T:a.createElement("span",{className:"".concat(R,"-handler-down-inner")},w.downIcon));var J=(0,a.useContext)(ae.aM),K=J.hasFeedback,q=J.status,D=J.isFormItemInput,z=J.feedbackIcon,U=(0,oe.F)(q,C),P=h||l,L=a.useContext(te.Z),O=A||L,Y=j()((t={},(0,y.Z)(t,"".concat(R,"-lg"),"large"===P),(0,y.Z)(t,"".concat(R,"-sm"),"small"===P),(0,y.Z)(t,"".concat(R,"-rtl"),"rtl"===s),(0,y.Z)(t,"".concat(R,"-borderless"),!Q),(0,y.Z)(t,"".concat(R,"-in-form-item"),D),t),(0,oe.Z)(R,U),f),H=a.createElement(ee,(0,E.Z)({ref:m,disabled:O,className:Y,upHandler:M,downHandler:T,prefixCls:R,readOnly:k,controls:F},B));if(null!=x||K){var G,X=j()("".concat(R,"-affix-wrapper"),(0,oe.Z)("".concat(R,"-affix-wrapper"),U,K),(G={},(0,y.Z)(G,"".concat(R,"-affix-wrapper-focused"),d),(0,y.Z)(G,"".concat(R,"-affix-wrapper-disabled"),e.disabled),(0,y.Z)(G,"".concat(R,"-affix-wrapper-sm"),"small"===l),(0,y.Z)(G,"".concat(R,"-affix-wrapper-lg"),"large"===l),(0,y.Z)(G,"".concat(R,"-affix-wrapper-rtl"),"rtl"===s),(0,y.Z)(G,"".concat(R,"-affix-wrapper-readonly"),k),(0,y.Z)(G,"".concat(R,"-affix-wrapper-borderless"),!Q),(0,y.Z)(G,"".concat(f),!(v||b)&&f),G));H=a.createElement("div",{className:X,style:e.style,onMouseUp:function(){return m.current.focus()}},x&&a.createElement("span",{className:"".concat(R,"-prefix")},x),(0,ie.Tm)(H,{style:null,value:e.value,onFocus:function(n){var t;g(!0),null===(t=e.onFocus)||void 0===t||t.call(e,n)},onBlur:function(n){var t;g(!1),null===(t=e.onBlur)||void 0===t||t.call(e,n)}}),K&&a.createElement("span",{className:"".concat(R,"-suffix")},z))}if(null!=v||null!=b){var W,V="".concat(R,"-group"),_="".concat(V,"-addon"),$=v?a.createElement("div",{className:_},v):null,le=b?a.createElement("div",{className:_},b):null,ue=j()("".concat(R,"-wrapper"),V,(0,y.Z)({},"".concat(V,"-rtl"),"rtl"===s)),ce=j()("".concat(R,"-group-wrapper"),(W={},(0,y.Z)(W,"".concat(R,"-group-wrapper-sm"),"small"===l),(0,y.Z)(W,"".concat(R,"-group-wrapper-lg"),"large"===l),(0,y.Z)(W,"".concat(R,"-group-wrapper-rtl"),"rtl"===s),W),(0,oe.Z)("".concat(R,"-group-wrapper"),U,K),f);H=a.createElement("div",{className:ce,style:e.style},a.createElement("div",{className:ue},$&&a.createElement(ae.Ux,{status:!0,override:!0},$),(0,ie.Tm)(H,{style:null,disabled:O}),le&&a.createElement(ae.Ux,{status:!0,override:!0},le)))}return H})),ue=t(7106),ce=t(9286),de=t(184),ge=h.Z.TextArea,me=A.Z.Option,fe={labelCol:{span:8},wrapperCol:{span:14}},he=function(e){var n="image/jpeg"===e.type||"image/png"===e.type;n||i.ZP.error("Siz faqat JPG/PNG turdagi fayllarni yuklay olasiz!");var t=e.size/1024/1024<2;return t||i.ZP.error("Surat hajmi 2MB dan kichik bo'lishi kerak!"),n&&t},Ae=function(e){var n=e.visible,t=e.setVisible,o=e.handleOk,s=e.categoryData,d=(0,a.useState)(!1),h=(0,r.Z)(d,2),E=h[0],y=h[1],N=(0,a.useState)(),Z=(0,r.Z)(N,2),b=Z[0],x=Z[1],S=(0,a.useState)(),I=(0,r.Z)(S,2),Q=I[0],j=I[1],k=p.Z.useForm(),C=(0,r.Z)(k,1)[0],w=(0,f.zp)(),B=(0,r.Z)(w,2),R=B[0],M=B[1].isLoading,T=(0,de.jsxs)("div",{children:[E?(0,de.jsx)(ue.Z,{}):(0,de.jsx)(ce.Z,{}),(0,de.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),F=null===s||void 0===s?void 0:s.map((function(e){return(0,de.jsx)(me,{value:e.id,children:e.name},e.id)}));return(0,de.jsx)(de.Fragment,{children:(0,de.jsx)(g.u_,{title:"Mahsulot qo'shish",open:n,onOk:o,onCancel:function(){return t(!1)},children:(0,de.jsxs)(p.Z,(0,m.Z)((0,m.Z)({},fe),{},{form:C,name:"basic",layout:"horizontal",onFinish:function(e){var n=(0,m.Z)((0,m.Z)({},e),{},{image:Q});R(n).unwrap().then((function(e){200===e.statusCode&&(i.ZP.success("Muvaffaqiyati saqlandi."),t(!1),x(""),C.resetFields())})).catch((function(e){i.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}))},autoComplete:"off",children:[(0,de.jsx)(p.Z.Item,{name:"image",label:"Rasm:",rules:[{required:!0,message:"Rasm yuklanmadi"}],children:(0,de.jsx)(v.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://147.182.130.242:3000/image-upload",beforeUpload:he,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(j(e.file.response.result.url),function(e,n){var t=new FileReader;t.addEventListener("load",(function(){return n(t.result)})),t.readAsDataURL(e)}(e.file.originFileObj,(function(e){y(!1),x(e)}))):y(!0)},children:b?(0,de.jsx)("img",{src:b,alt:"productImage",style:{width:"100%"}}):T})}),(0,de.jsx)(p.Z.Item,{name:"name",label:"Mahsulot nomi:",rules:[{required:!0,message:"Mahsulot nomini kiriting"}],children:(0,de.jsx)(g.Dh.II,{placeholder:"Nomini kiriting"})}),(0,de.jsx)(p.Z.Item,{name:"categoryId",label:"Kategoriyasi:",rules:[{required:!0,message:"Kategoriyalar"}],children:(0,de.jsx)(A.Z,{allowClear:!0,placeholder:"Kategoriyani tanlang",children:F})}),(0,de.jsx)(p.Z.Item,{name:"description",label:"Ta'rifi:",rules:[{required:!1,message:"Ta'rif kiriting"}],children:(0,de.jsx)(ge,{allowClear:!0,autoSize:!0,placeholder:"Ta'rifni kiriting"})}),(0,de.jsx)(p.Z.Item,{name:"price",label:"Narxi:",style:{width:"100%"},rules:[{required:!0,message:"Narxni kiriting"}],children:(0,de.jsx)(le,{addonAfter:"so'm",placeholder:"1000"})}),(0,de.jsx)(p.Z.Item,{name:"discount",label:"Chegirma:",rules:[{required:!1,message:"Chegirma kiriting"}],children:(0,de.jsx)(le,{addonAfter:"%",placeholder:"5"})}),(0,de.jsx)(p.Z.Item,{style:{marginTop:50},children:(0,de.jsxs)(l.Z,{justify:"end",gutter:5,wrap:!1,children:[(0,de.jsx)(u.Z,{children:(0,de.jsx)(c.Z,{onClick:function(){return t(!1)},disabled:M,children:"Bekor qilish"})}),(0,de.jsx)(u.Z,{children:(0,de.jsx)(c.Z,{htmlType:"submit",loading:M,disabled:M,type:"primary",children:"Tasdiqlash"})})]})})]}))})})},pe=h.Z.TextArea,ve=A.Z.Option,Ee={labelCol:{span:8},wrapperCol:{span:14}},ye=function(e){var n="image/jpeg"===e.type||"image/png"===e.type;n||i.ZP.error("Siz faqat JPG/PNG turdagi fayllarni yuklay olasiz!");var t=e.size/1024/1024<2;return t||i.ZP.error("Surat hajmi 2MB dan kichik bo'lishi kerak!"),n&&t},Ne=function(e){var n=e.visible,t=e.setVisible,o=e.updateData,s=e.categoryData,d=(0,f.qt)(),h=(0,r.Z)(d,2),E=h[0],y=h[1].isLoading,N=(0,a.useState)(!1),Z=(0,r.Z)(N,2),b=Z[0],x=Z[1],S=(0,a.useState)(),I=(0,r.Z)(S,2),Q=I[0],j=I[1],k=(0,a.useState)(),C=(0,r.Z)(k,2),w=C[0],B=C[1],R=p.Z.useForm(),M=(0,r.Z)(R,1)[0];(0,a.useEffect)((function(){M.__INTERNAL__.name&&(j("http://147.182.130.242:3000/".concat(o.image)),M.setFieldsValue({name:o.name,categoryId:o.categoryId,description:o.description,discount:o.discount,price:o.price,image:"http://147.182.130.242:3000/".concat(o.image)}))}),[o]);var T=(0,de.jsxs)("div",{children:[b?(0,de.jsx)(ue.Z,{}):(0,de.jsx)(ce.Z,{}),(0,de.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),F=null===s||void 0===s?void 0:s.map((function(e){return(0,de.jsx)(ve,{value:e.id,children:e.name},e.id)}));return(0,de.jsx)(de.Fragment,{children:(0,de.jsx)(g.u_,{title:"Mahsulotni tahrirlash",open:n,onCancel:function(){return t(!1)},children:(0,de.jsxs)(p.Z,(0,m.Z)((0,m.Z)({},Ee),{},{form:M,name:"basic",layout:"horizontal",onFinish:function(e){e.image=w,E({id:o.id,value:e}).unwrap().then((function(e){200===e.statusCode&&(i.ZP.success("Muvaffaqiyati tahrirlandi."),t(!1))})).catch((function(e){i.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}))},autoComplete:"off",children:[(0,de.jsx)(p.Z.Item,{name:"image",label:"Rasm:",rules:[{required:!0,message:"Rasm yuklanmadi"}],children:(0,de.jsx)(v.Z,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"http://147.182.130.242:3000/image-upload",beforeUpload:ye,onChange:function(e){"uploading"!==e.file.status?"done"===e.file.status&&(B(e.file.response.result.url),function(e,n){var t=new FileReader;t.addEventListener("load",(function(){return n(t.result)})),t.readAsDataURL(e)}(e.file.originFileObj,(function(e){x(!1),j(e)}))):x(!0)},children:Q?(0,de.jsx)("img",{src:Q,alt:"productImage",style:{width:"100%"}}):T})}),(0,de.jsx)(p.Z.Item,{name:"name",label:"Mahsulot nomi:",rules:[{required:!0,message:"Mahsulot nomini kiriting"}],children:(0,de.jsx)(g.Dh.II,{})}),(0,de.jsx)(p.Z.Item,{name:"categoryId",label:"Kategoriyasi:",rules:[{required:!0,message:"Kategoriyalar"}],children:(0,de.jsx)(A.Z,{allowClear:!0,placeholder:"Kategoriyani tanlang",children:F})}),(0,de.jsx)(p.Z.Item,{name:"description",label:"Ta'rifi:",rules:[{required:!1,message:"Ta'rif kiriting"}],children:(0,de.jsx)(pe,{allowClear:!0,autoSize:!0})}),(0,de.jsx)(p.Z.Item,{name:"price",label:"Narxi:",style:{width:"100%"},rules:[{required:!0,message:"Narxni kiriting"}],children:(0,de.jsx)(le,{addonAfter:"so'm"})}),(0,de.jsx)(p.Z.Item,{name:"discount",label:"Chegirma:",rules:[{required:!1,message:"Chegirma kiriting"}],children:(0,de.jsx)(le,{addonAfter:"%"})}),(0,de.jsx)(p.Z.Item,{style:{marginTop:50},children:(0,de.jsxs)(l.Z,{justify:"end",gutter:5,wrap:!1,children:[(0,de.jsx)(u.Z,{children:(0,de.jsx)(c.Z,{onClick:function(){return t(!1)},disabled:y,children:"Bekor qilish"})}),(0,de.jsx)(u.Z,{children:(0,de.jsx)(c.Z,{htmlType:"submit",loading:y,disabled:y,type:"primary",children:"Tasdiqlash"})})]})})]}))})})},Ze=function(){var e,n,t,m=(0,f.Im)(),h=(0,f.FA)(),A=(0,f.dY)(),p=(0,r.Z)(A,2),v=p[0],E=p[1].isLoading,y=(0,a.useState)(!1),N=(0,r.Z)(y,2),Z=N[0],b=N[1],x=(0,a.useState)(!1),S=(0,r.Z)(x,2),I=S[0],Q=S[1],j=(0,a.useState)({name:"",categoryId:0,image:"",description:"",price:0,discount:0}),k=(0,r.Z)(j,2),C=k[0],w=k[1],B=[{title:"\u2116",dataIndex:"id",key:"id",render:function(e,n,t){return(0,de.jsx)("span",{children:t+1})}},{title:"Nomi",dataIndex:"name",key:"name",render:function(e,n){return(0,de.jsxs)(o.Z,{size:2,children:[(0,de.jsx)(s.Z,{width:30,height:30,src:"http://147.182.130.242:3000/".concat(n.image),fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}),e]})}},{title:"Tarifi",dataIndex:"description",key:"description",render:function(e,n){return(0,de.jsx)(de.Fragment,{children:e})}},{title:"Narxi",dataIndex:"price",key:"price",render:function(e,n){return(0,de.jsx)(de.Fragment,{children:e})}},{title:"Chegirma",dataIndex:"discount",key:"discount",render:function(e,n){return(0,de.jsx)(de.Fragment,{children:e})}},{title:"Amallar",key:"action",width:"20%",render:function(e,n,t){return(0,de.jsxs)(l.Z,{wrap:!1,gutter:5,children:[(0,de.jsx)(u.Z,{children:(0,de.jsx)(c.Z,{size:"small",type:"primary",ghost:!0,onClick:function(){return n=e,Q(!0),void w(n);var n},children:"Tahrirlash"})}),(0,de.jsx)(u.Z,{children:(0,de.jsx)(g.EY,{onConfirm:function(){return n=e.id,void v({id:n}).unwrap().then((function(e){200===e.statusCode&&(i.ZP.success("Muvaffaqiyati o'chirildi."),Q(!1))})).catch((function(e){i.ZP.error("Xatolik yuz berdi. Xatolik: ".concat(e.message))}));var n},title:"O\u02bbchirishga ishonchingiz komilmi?",children:(0,de.jsx)(c.Z,{size:"small",danger:!0,disabled:E,children:"O'chirish"})})})]})}}];return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsxs)(l.Z,{children:[(0,de.jsx)(u.Z,{span:20,children:(0,de.jsx)(d.Z.Title,{level:2,children:"Mahsulotlar"})}),(0,de.jsx)(u.Z,{span:4,children:(0,de.jsx)(c.Z,{type:"primary",onClick:function(){return b((function(e){return!e}))},children:"Yaratish"})})]}),(0,de.jsx)(g.iA,{columns:B,dataSource:null===(e=h.data)||void 0===e?void 0:e.data,loading:h.isFetching,pagination:{defaultPageSize:5},rowKey:function(e){return e.id}}),(0,de.jsx)(Ae,{visible:Z,setVisible:b,categoryData:null===(n=m.data)||void 0===n?void 0:n.data}),(0,de.jsx)(Ne,{updateData:C,visible:I,setVisible:Q,categoryData:null===(t=m.data)||void 0===t?void 0:t.data})]})}}}]);
//# sourceMappingURL=763.6c41a378.chunk.js.map