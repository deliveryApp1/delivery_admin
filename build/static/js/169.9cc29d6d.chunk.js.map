{"version":3,"file":"static/js/169.9cc29d6d.chunk.js","mappings":"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","sources":["pages/Discount/_components/ModalCreate/ModalCreate.tsx","pages/Discount/Discount.tsx"],"sourcesContent":["import { Button, Col, Form, message, Row } from \"antd\";\r\nimport { FormElements, Modal, Upload  } from \"components/index\";\r\nimport { useDiscountAddMutation } from \"store/endpoints\";\r\nimport { DiscountDTO } from \"types/discount\";\r\n\r\ntype Props = {\r\n  visible: boolean;\r\n  setVisible: (bool: boolean) => void;\r\n  handleOk?: () => void;\r\n};\r\nconst ModalCreate: React.FC<Props> = ({ visible, setVisible, handleOk }) => {\r\n  const [form] = Form.useForm();\r\n  const [discountMutation, { isLoading }] = useDiscountAddMutation();\r\n\r\n  const handleSubmit = (value: DiscountDTO) => {\r\n    const categoryPromise = discountMutation(value).unwrap();\r\n    categoryPromise\r\n      .then((res) => {\r\n        if (res.statusCode === 200) {\r\n          message.success(\"Muvaffaqiyati yaratildi.\");\r\n          setVisible(false);\r\n          form.resetFields();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={\"Kategoriya yaratish\"}\r\n        open={visible}\r\n        onOk={handleOk}\r\n        onCancel={() => setVisible(false)}>\r\n        <Upload />\r\n        \r\n        <Form\r\n          form={form}\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          onFinish={handleSubmit} // onFinishFailed={onFinishFailed}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            name=\"name\"\r\n            label=\"kategoriya:\"\r\n            rules={[\r\n              { required: true, message: `Iltimos kategoriyani kiriting` },\r\n            ]}\r\n          >\r\n            <FormElements.Input />\r\n          </Form.Item>\r\n          <Form.Item style={{ marginTop: 50 }}>\r\n            <Row justify=\"end\" gutter={5} wrap={false}>\r\n              <Col>\r\n                <Button onClick={() => setVisible(false)} disabled={isLoading}>\r\n                  Bekor qilish\r\n                </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button\r\n                  htmlType=\"submit\"\r\n                  loading={isLoading}\r\n                  disabled={isLoading}\r\n                  type=\"primary\"\r\n                >\r\n                  Tasdiqlash\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalCreate;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Col, message, Row, TableColumnsType } from \"antd\";\r\nimport { Typography } from \"antd\";\r\nimport { PopConfirm, Table } from \"components/index\";\r\nimport ModalCreate from \"./_components/ModalCreate/ModalCreate\";\r\nimport ModalUpdate from \"./_components/ModalUpdate/ModalUpdate\";\r\nimport { DiscountDTO } from \"types/discount\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDiscountDeleteMutation, useDiscountQuery } from \"store/endpoints\";\r\n\r\nconst Discount: React.FC = () => {\r\n  const discountQuery = useDiscountQuery();\r\n  const [discountDelete, { isLoading }] = useDiscountDeleteMutation();\r\n  const [modalCreate, setModalCreate] = useState<boolean>(false);\r\n  // const [modalUpdate, setModalUpdate] = useState<boolean>(false);\r\n  // const [updateData, setUpdateData] = useState<DiscountDTO>({ name: \"\" });\r\n  const [page, setPage] = useState(1);\r\n  const history = useNavigate();\r\n\r\n  function onChange(page: number) {\r\n    setPage(page);\r\n    // history(`/admin/finance?type=salaries&page=${page}`);\r\n  }\r\n\r\n  // const handleUpdate = (data: DiscountDTO) => {\r\n  //   setModalUpdate(true);\r\n  //   setUpdateData(data);\r\n  // };\r\n\r\n\r\n  const handleDelete = (id: number | undefined) => {\r\n    const discount = discountDelete({ id }).unwrap();\r\n    discount\r\n      .then((res) => {\r\n        if (res.statusCode === 200) {\r\n          message.success(\"Muvaffaqiyati ochirildi.\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        message.error(`Xatolik yuz berdi. Xatolik: ${err.message}`);\r\n      });\r\n  };\r\n\r\n  const columns: TableColumnsType<DiscountDTO> = [\r\n    {\r\n      title: \"№\",\r\n      dataIndex: \"id\",\r\n      key: \"id\",\r\n      width: \"5%\",\r\n      render: (_, __, index) => <span>{index + 1}</span>,\r\n    },\r\n    {\r\n      title: \"Rasim\",\r\n      dataIndex: \"image\",\r\n      key: \"image\",\r\n      width: \"5%\",\r\n      render: (item) => <div> <img src={item.image} alt={item.title} /> </div>\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      width: \"30%\",\r\n      render: (item) => <span>{item}</span>,\r\n    },\r\n\r\n    {\r\n      title: \"Description\",\r\n      dataIndex: \"description\",\r\n      key: \"description\",\r\n      width: \"40%\",\r\n      render: (item) => <span>{item}</span>,\r\n    },\r\n\r\n    {\r\n      title: \"Action\",\r\n      key: \"action\",\r\n      width: \"20%\",\r\n      render: (item: DiscountDTO) => {\r\n        return (\r\n          <Row wrap={false} gutter={5}>\r\n            <Col>\r\n              <Button\r\n                size=\"small\"\r\n                type=\"primary\"\r\n                ghost\r\n              // onClick={() => handleUpdate(item)}\r\n              >\r\n                Edit\r\n              </Button>\r\n            </Col>\r\n            <Col>\r\n              <PopConfirm\r\n                onConfirm={() => handleDelete(item.id)}\r\n                title=\"Oʻchirishga ishonchingiz komilmi?\"\r\n              >\r\n                <Button size=\"small\" danger disabled={isLoading}>\r\n                  Delete\r\n                </Button>\r\n              </PopConfirm>\r\n            </Col>\r\n          </Row>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col span={20}>\r\n          <Typography.Title level={2}>Kategoriyalar</Typography.Title>\r\n        </Col>\r\n        <Col span={4}>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => setModalCreate((prev) => !prev)}\r\n          >\r\n            Yaratish\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={discountQuery.data?.data}\r\n        loading={discountQuery.isFetching}\r\n        pagination={{\r\n          total: discountQuery.data?.data.length,\r\n          pageSize: 10,\r\n          current: page,\r\n          onChange: (e) => onChange(e),\r\n          showSizeChanger: false,\r\n        }}\r\n      />\r\n      <ModalCreate visible={modalCreate} setVisible={setModalCreate} />\r\n      {/* <ModalUpdate\r\n        updateData={updateData}\r\n        visible={modalUpdate}\r\n        setVisible={setModalUpdate}\r\n      /> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Discount;\r\n"],"names":["visible","setVisible","handleOk","Form","form","useDiscountAddMutation","discountMutation","isLoading","title","open","onOk","onCancel","name","layout","onFinish","value","unwrap","then","res","statusCode","message","resetFields","catch","err","autoComplete","label","rules","required","style","marginTop","justify","gutter","wrap","onClick","disabled","htmlType","loading","type","discountQuery","useDiscountQuery","useDiscountDeleteMutation","discountDelete","useState","modalCreate","setModalCreate","page","setPage","useNavigate","columns","dataIndex","key","width","render","_","__","index","item","src","image","alt","size","ghost","onConfirm","id","danger","span","level","prev","dataSource","data","isFetching","pagination","total","length","pageSize","current","onChange","e","showSizeChanger"],"sourceRoot":""}